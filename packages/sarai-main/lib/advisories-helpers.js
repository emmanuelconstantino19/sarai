Meteor.PlantingGuideGraph = {

  constructChart: (crop) => {
    console.log('Construct Rainfall Graph chart');
    var new_data, color, thresh, title, main_title;

if(crop == "Rice"){

color = "green";

thresh = 200;

title = "30-day Cumulative Rainfall";

main_title = "30-day moving cumulative total rainfall in Echague, Isabela"

new_data = [
[1546300800000,134.18],
[1546387200000,132.57],
[1546473600000,130.77],
[1546560000000,128.14],
[1546646400000,127.24],
[1546732800000,125.09],
[1546819200000,122.58],
[1546905600000,120.57],
[1546992000000,119.56],
[1547078400000,117.98],
[1547164800000,116.63],
[1547251200000,115.44],
[1547337600000,113.53],
[1547424000000,112.13],
[1547510400000,110.81],
[1547596800000,109.09],
[1547683200000,106.11],
[1547769600000,104.64],
[1547856000000,102.83],
[1547942400000,100.06],
[1548028800000,90.72],
[1548115200000,89.96],
[1548201600000,88.71],
[1548288000000,86.36],
[1548374400000,85.46],
[1548460800000,84.71],
[1548547200000,89.02],
[1548633600000,87.69],
[1548720000000,84.88],
[1548806400000,84.79],
[1548892800000,84.79],
[1548979200000,85.17],
[1549065600000,85.7],
[1549152000000,85.82],
[1549238400000,85.9],
[1549324800000,86.07],
[1549411200000,86.09],
[1549497600000,86.18],
[1549584000000,86.12],
[1549670400000,86.64],
[1549756800000,86.82],
[1549843200000,86.9],
[1549929600000,87.14],
[1550016000000,87.23],
[1550102400000,87.79],
[1550188800000,88.2],
[1550275200000,88.41],
[1550361600000,88.81],
[1550448000000,89.15],
[1550534400000,89.84],
[1550620800000,90.04],
[1550707200000,90.28],
[1550793600000,90.62],
[1550880000000,91.18],
[1550966400000,91.56],
[1551052800000,91.52],
[1551139200000,91.95],
[1551225600000,92.29],
[1551312000000,89.37],
[1551398400000,89.7],
[1551484800000,89.72],
[1551571200000,89.8],
[1551657600000,89.57],
[1551744000000,89.33],
[1551830400000,89.14],
[1551916800000,88.95],
[1552003200000,88.93],
[1552089600000,88.87],
[1552176000000,88.58],
[1552262400000,88.33],
[1552348800000,88.33],
[1552435200000,88.41],
[1552521600000,88.25],
[1552608000000,88.12],
[1552694400000,87.94],
[1552780800000,87.83],
[1552867200000,87.62],
[1552953600000,87.29],
[1553040000000,87.21],
[1553126400000,86.89],
[1553212800000,86.75],
[1553299200000,86.68],
[1553385600000,86.48],
[1553472000000,86.38],
[1553558400000,86.04],
[1553644800000,85.9],
[1553731200000,85.63],
[1553817600000,85.22],
[1553904000000,88.17],
[1553990400000,87.82],
[1554076800000,87.96],
[1554163200000,87.9],
[1554249600000,87.96],
[1554336000000,88.26],
[1554422400000,88.44],
[1554508800000,88.51],
[1554595200000,88.36],
[1554681600000,88.22],
[1554768000000,87.9],
[1554854400000,87.69],
[1554940800000,87.56],
[1555027200000,87.43],
[1555113600000,87.34],
[1555200000000,87.31],
[1555286400000,87.24],
[1555372800000,87.03],
[1555459200000,87.08],
[1555545600000,87.42],
[1555632000000,87.21],
[1555718400000,86.88],
[1555804800000,86.64],
[1555891200000,86.8],
[1555977600000,86.57],
[1556064000000,86.27],
[1556150400000,86.03],
[1556236800000,86.05],
[1556323200000,85.7],
[1556409600000,85.84],
[1556496000000,85.62],
[1556582400000,86.55],
[1556668800000,89.17],
[1556755200000,90.21],
[1556841600000,91.58],
[1556928000000,94],
[1557014400000,94.81],
[1557100800000,98.08],
[1557187200000,99.37],
[1557273600000,102.03],
[1557360000000,105.26],
[1557446400000,108.38],
[1557532800000,110.75],
[1557619200000,113.6],
[1557705600000,114.89],
[1557792000000,118.92],
[1557878400000,121.53],
[1557964800000,124.84],
[1558051200000,129.65],
[1558137600000,131.43],
[1558224000000,132.72],
[1558310400000,135.5],
[1558396800000,138.52],
[1558483200000,142.64],
[1558569600000,145.56],
[1558656000000,148.01],
[1558742400000,151.99],
[1558828800000,153.88],
[1558915200000,156.3],
[1559001600000,157.41],
[1559088000000,158.89],
[1559174400000,160.6],
[1559260800000,159],
[1559347200000,157.07],
[1559433600000,156.07],
[1559520000000,152.96],
[1559606400000,151.95],
[1559692800000,149.65],
[1559779200000,148.84],
[1559865600000,146.44],
[1559952000000,144.91],
[1560038400000,141.27],
[1560124800000,138.33],
[1560211200000,136.1],
[1560297600000,135.74],
[1560384000000,132.27],
[1560470400000,129.27],
[1560556800000,127.22],
[1560643200000,122.82],
[1560729600000,121.52],
[1560816000000,121.63],
[1560902400000,120.25],
[1560988800000,119.26],
[1561075200000,115.15],
[1561161600000,114.29],
[1561248000000,113.51],
[1561334400000,112.44],
[1561420800000,111.77],
[1561507200000,109.93],
[1561593600000,110.58],
[1561680000000,110.73],
[1561766400000,108.47],
[1561852800000,109.54],
[1561939200000,115.22],
[1562025600000,120.97],
[1562112000000,124.65],
[1562198400000,128.06],
[1562284800000,130.3],
[1562371200000,133.51],
[1562457600000,135.17],
[1562544000000,136.81],
[1562630400000,140.15],
[1562716800000,144.77],
[1562803200000,147.46],
[1562889600000,148.5],
[1562976000000,152.16],
[1563062400000,154.81],
[1563148800000,158.21],
[1563235200000,159],
[1563321600000,160.96],
[1563408000000,163.49],
[1563494400000,165.12],
[1563580800000,165.02],
[1563667200000,166.17],
[1563753600000,166.18],
[1563840000000,167.02],
[1563926400000,168.82],
[1564012800000,171.12],
[1564099200000,173.06],
[1564185600000,174.33],
[1564272000000,175.93],
[1564358400000,178.14],
[1564444800000,178.41],
[1564531200000,175.79],
[1564617600000,170.19],
[1564704000000,170.91],
[1564790400000,168.87],
[1564876800000,167.5],
[1564963200000,166.64],
[1565049600000,168.19],
[1565136000000,169.18],
[1565222400000,168.81],
[1565308800000,167.86],
[1565395200000,166.9],
[1565481600000,168.11],
[1565568000000,166.65],
[1565654400000,166.56],
[1565740800000,164.97],
[1565827200000,167.75],
[1565913600000,166.86],
[1566000000000,165.14],
[1566086400000,165.88],
[1566172800000,166.56],
[1566259200000,166.27],
[1566345600000,167.24],
[1566432000000,166.7],
[1566518400000,165.44],
[1566604800000,165.67],
[1566691200000,166.3],
[1566777600000,164.92],
[1566864000000,163.44],
[1566950400000,163.1],
[1567036800000,163.96],
[1567123200000,163.3],
[1567209600000,166.88],
[1567296000000,165.44],
[1567382400000,168.54],
[1567468800000,172.07],
[1567555200000,175],
[1567641600000,175.01],
[1567728000000,174.6],
[1567814400000,175.43],
[1567900800000,178.75],
[1567987200000,181.03],
[1568073600000,182.78],
[1568160000000,184.05],
[1568246400000,185.29],
[1568332800000,186.67],
[1568419200000,186.28],
[1568505600000,188.44],
[1568592000000,188.46],
[1568678400000,192.25],
[1568764800000,193.15],
[1568851200000,196.67],
[1568937600000,196.83],
[1569024000000,198.67],
[1569110400000,200.89],
[1569196800000,201.25],
[1569283200000,201.57],
[1569369600000,203.61],
[1569456000000,208.49],
[1569542400000,211.04],
[1569628800000,213.27],
[1569715200000,213.74],
[1569801600000,213.3],
[1569888000000,213.31],
[1569974400000,213.67],
[1570060800000,212.65],
[1570147200000,209.22],
[1570233600000,209.81],
[1570320000000,209.97],
[1570406400000,211.09],
[1570492800000,207.06],
[1570579200000,205.85],
[1570665600000,205.28],
[1570752000000,202.62],
[1570838400000,200.5],
[1570924800000,198.76],
[1571011200000,195.88],
[1571097600000,196.2],
[1571184000000,195.31],
[1571270400000,193.47],
[1571356800000,193.95],
[1571443200000,192.61],
[1571529600000,196.33],
[1571616000000,196.18],
[1571702400000,192.64],
[1571788800000,190.73],
[1571875200000,190.31],
[1571961600000,189.69],
[1572048000000,187.33],
[1572134400000,185.85],
[1572220800000,184.77],
[1572307200000,184.64],
[1572393600000,183.46],
[1572480000000,184.89],
[1572566400000,183],
[1572652800000,180.47],
[1572739200000,181.6],
[1572825600000,180.55],
[1572912000000,181.59],
[1572998400000,179.21],
[1573084800000,180.87],
[1573171200000,180.66],
[1573257600000,178.87],
[1573344000000,178.94],
[1573430400000,181.33],
[1573516800000,179.83],
[1573603200000,181.08],
[1573689600000,177.32],
[1573776000000,177.83],
[1573862400000,174.8],
[1573948800000,172.58],
[1574035200000,172.62],
[1574121600000,169.07],
[1574208000000,167.92],
[1574294400000,169.28],
[1574380800000,168.39],
[1574467200000,168.61],
[1574553600000,168.6],
[1574640000000,168.5],
[1574726400000,166.66],
[1574812800000,164.48],
[1574899200000,164.16],
[1574985600000,165.27],
[1575072000000,164.07],
[1575158400000,163.41],
[1575244800000,162.76],
[1575331200000,159.85],
[1575417600000,158.46],
[1575504000000,155.3],
[1575590400000,156.1],
[1575676800000,153],
[1575763200000,152.14],
[1575849600000,152.2],
[1575936000000,152.88],
[1576022400000,150.4],
[1576108800000,150.81],
[1576195200000,150.22],
[1576281600000,150.67],
[1576368000000,150.72],
[1576454400000,149.65],
[1576540800000,149.09],
[1576627200000,147.2],
[1576713600000,147.07],
[1576800000000,146.15],
[1576886400000,144.51],
[1576972800000,145.73],
[1577059200000,146.29],
[1577145600000,143.91],
[1577232000000,140.94],
[1577318400000,141.61],
[1577404800000,140.18],
[1577491200000,139.23],
[1577577600000,136.96],
[1577664000000,135.45],
[1577750400000,135.45]
];

} else if(crop == "Corn"){
color = "orange";

thresh = 100;

title = "20-day Cumulative Rainfall";

main_title = "20-day moving cumulative total rainfall in Echague, Isabela"

new_data = [
[1546300800000,91.73],
[1546387200000,86.14],
[1546473600000,84.74],
[1546560000000,83.35],
[1546646400000,81.69],
[1546732800000,80.37],
[1546819200000,79.45],
[1546905600000,77.99],
[1546992000000,75.13],
[1547078400000,73.92],
[1547164800000,72.14],
[1547251200000,69.60],
[1547337600000,65.90],
[1547424000000,65.10],
[1547510400000,64.08],
[1547596800000,61.77],
[1547683200000,60.61],
[1547769600000,59.64],
[1547856000000,58.21],
[1547942400000,56.78],
[1548028800000,56.58],
[1548115200000,56.63],
[1548201600000,56.57],
[1548288000000,56.66],
[1548374400000,56.23],
[1548460800000,56.09],
[1548547200000,56.16],
[1548633600000,56.14],
[1548720000000,56.00],
[1548806400000,55.81],
[1548892800000,55.83],
[1548979200000,55.78],
[1549065600000,56.21],
[1549152000000,56.59],
[1549238400000,56.78],
[1549324800000,57.28],
[1549411200000,57.82],
[1549497600000,57.87],
[1549584000000,58.08],
[1549670400000,58.40],
[1549756800000,59.02],
[1549843200000,59.21],
[1549929600000,59.29],
[1550016000000,59.59],
[1550102400000,60.04],
[1550188800000,60.32],
[1550275200000,60.29],
[1550361600000,60.48],
[1550448000000,60.92],
[1550534400000,61.05],
[1550620800000,61.63],
[1550707200000,61.87],
[1550793600000,61.68],
[1550880000000,61.58],
[1550966400000,61.59],
[1551052800000,61.75],
[1551139200000,61.62],
[1551225600000,62.01],
[1551312000000,62.10],
[1551398400000,59.06],
[1551484800000,58.89],
[1551571200000,58.68],
[1551657600000,59.11],
[1551744000000,59.02],
[1551830400000,58.88],
[1551916800000,58.63],
[1552003200000,58.57],
[1552089600000,58.39],
[1552176000000,58.14],
[1552262400000,57.84],
[1552348800000,57.52],
[1552435200000,57.50],
[1552521600000,57.41],
[1552608000000,57.22],
[1552694400000,56.97],
[1552780800000,56.70],
[1552867200000,56.60],
[1552953600000,56.15],
[1553040000000,55.92],
[1553126400000,58.88],
[1553212800000,58.82],
[1553299200000,58.90],
[1553385600000,58.56],
[1553472000000,58.48],
[1553558400000,58.64],
[1553644800000,58.65],
[1553731200000,58.56],
[1553817600000,58.70],
[1553904000000,58.45],
[1553990400000,58.65],
[1554076800000,58.38],
[1554163200000,58.31],
[1554249600000,58.61],
[1554336000000,58.73],
[1554422400000,59.02],
[1554508800000,59.13],
[1554595200000,59.25],
[1554681600000,59.14],
[1554768000000,59.07],
[1554854400000,58.53],
[1554940800000,58.32],
[1555027200000,58.31],
[1555113600000,58.16],
[1555200000000,58.09],
[1555286400000,57.90],
[1555372800000,57.90],
[1555459200000,57.72],
[1555545600000,57.60],
[1555632000000,58.12],
[1555718400000,57.93],
[1555804800000,57.88],
[1555891200000,57.58],
[1555977600000,57.46],
[1556064000000,57.09],
[1556150400000,56.65],
[1556236800000,56.24],
[1556323200000,56.10],
[1556409600000,56.04],
[1556496000000,56.07],
[1556582400000,56.37],
[1556668800000,57.23],
[1556755200000,59.92],
[1556841600000,61.39],
[1556928000000,62.97],
[1557014400000,65.72],
[1557100800000,66.70],
[1557187200000,70.30],
[1557273600000,71.43],
[1557360000000,73.68],
[1557446400000,76.58],
[1557532800000,79.81],
[1557619200000,82.42],
[1557705600000,84.96],
[1557792000000,86.41],
[1557878400000,90.55],
[1557964800000,93.40],
[1558051200000,96.52],
[1558137600000,101.56],
[1558224000000,103.71],
[1558310400000,105.03],
[1558396800000,106.84],
[1558483200000,106.93],
[1558569600000,109.89],
[1558656000000,111.07],
[1558742400000,110.66],
[1558828800000,113.42],
[1558915200000,111.91],
[1559001600000,112.97],
[1559088000000,111.44],
[1559174400000,110.00],
[1559260800000,109.45],
[1559347200000,108.17],
[1559433600000,104.86],
[1559520000000,104.16],
[1559606400000,99.76],
[1559692800000,97.12],
[1559779200000,95.11],
[1559865600000,90.62],
[1559952000000,88.70],
[1560038400000,88.78],
[1560124800000,85.57],
[1560211200000,82.24],
[1560297600000,78.42],
[1560384000000,76.59],
[1560470400000,74.81],
[1560556800000,70.69],
[1560643200000,69.85],
[1560729600000,68.07],
[1560816000000,67.83],
[1560902400000,67.76],
[1560988800000,66.49],
[1561075200000,67.19],
[1561161600000,67.97],
[1561248000000,69.29],
[1561334400000,71.21],
[1561420800000,73.90],
[1561507200000,74.03],
[1561593600000,74.06],
[1561680000000,75.57],
[1561766400000,75.82],
[1561852800000,76.66],
[1561939200000,79.38],
[1562025600000,83.99],
[1562112000000,89.39],
[1562198400000,92.13],
[1562284800000,95.90],
[1562371200000,98.20],
[1562457600000,101.31],
[1562544000000,102.35],
[1562630400000,103.96],
[1562716800000,105.48],
[1562803200000,107.75],
[1562889600000,110.72],
[1562976000000,110.80],
[1563062400000,113.46],
[1563148800000,113.07],
[1563235200000,116.29],
[1563321600000,117.14],
[1563408000000,118.21],
[1563494400000,120.52],
[1563580800000,123.13],
[1563667200000,122.66],
[1563753600000,118.92],
[1563840000000,114.50],
[1563926400000,113.58],
[1564012800000,114.66],
[1564099200000,114.85],
[1564185600000,113.60],
[1564272000000,114.74],
[1564358400000,114.94],
[1564444800000,114.65],
[1564531200000,113.02],
[1564617600000,112.32],
[1564704000000,111.08],
[1564790400000,110.88],
[1564876800000,109.96],
[1564963200000,107.48],
[1565049600000,108.96],
[1565136000000,109.57],
[1565222400000,109.64],
[1565308800000,109.17],
[1565395200000,110.59],
[1565481600000,111.45],
[1565568000000,112.73],
[1565654400000,113.09],
[1565740800000,110.81],
[1565827200000,110.14],
[1565913600000,111.83],
[1566000000000,110.74],
[1566086400000,109.74],
[1566172800000,110.87],
[1566259200000,110.81],
[1566345600000,109.40],
[1566432000000,111.55],
[1566518400000,109.38],
[1566604800000,111.23],
[1566691200000,113.02],
[1566777600000,113.26],
[1566864000000,111.47],
[1566950400000,109.20],
[1567036800000,108.95],
[1567123200000,109.12],
[1567209600000,108.72],
[1567296000000,109.84],
[1567382400000,109.67],
[1567468800000,111.94],
[1567555200000,114.58],
[1567641600000,116.22],
[1567728000000,117.72],
[1567814400000,119.10],
[1567900800000,118.71],
[1567987200000,122.78],
[1568073600000,126.20],
[1568160000000,128.26],
[1568246400000,130.44],
[1568332800000,130.66],
[1568419200000,131.14],
[1568505600000,131.81],
[1568592000000,134.26],
[1568678400000,134.76],
[1568764800000,140.02],
[1568851200000,140.00],
[1568937600000,142.78],
[1569024000000,141.51],
[1569110400000,142.61],
[1569196800000,143.58],
[1569283200000,142.20],
[1569369600000,139.83],
[1569456000000,140.08],
[1569542400000,143.09],
[1569628800000,144.56],
[1569715200000,143.65],
[1569801600000,141.43],
[1569888000000,140.36],
[1569974400000,138.92],
[1570060800000,140.32],
[1570147200000,140.55],
[1570233600000,139.16],
[1570320000000,139.09],
[1570406400000,140.61],
[1570492800000,137.55],
[1570579200000,136.69],
[1570665600000,135.38],
[1570752000000,136.70],
[1570838400000,134.39],
[1570924800000,130.26],
[1571011200000,128.65],
[1571097600000,126.11],
[1571184000000,126.85],
[1571270400000,121.57],
[1571356800000,122.44],
[1571443200000,120.67],
[1571529600000,121.65],
[1571616000000,124.54],
[1571702400000,125.48],
[1571788800000,122.56],
[1571875200000,120.28],
[1571961600000,120.92],
[1572048000000,119.96],
[1572134400000,120.45],
[1572220800000,119.32],
[1572307200000,121.36],
[1572393600000,120.22],
[1572480000000,118.55],
[1572566400000,121.19],
[1572652800000,122.82],
[1572739200000,122.27],
[1572825600000,124.88],
[1572912000000,123.44],
[1572998400000,126.90],
[1573084800000,123.29],
[1573171200000,123.61],
[1573257600000,123.43],
[1573344000000,119.24],
[1573430400000,117.15],
[1573516800000,118.95],
[1573603200000,117.76],
[1573689600000,116.87],
[1573776000000,114.48],
[1573862400000,112.07],
[1573948800000,111.40],
[1574035200000,108.48],
[1574121600000,109.63],
[1574208000000,110.15],
[1574294400000,108.52],
[1574380800000,108.84],
[1574467200000,108.20],
[1574553600000,107.92],
[1574640000000,108.00],
[1574726400000,107.35],
[1574812800000,106.77],
[1574899200000,104.97],
[1574985600000,103.72],
[1575072000000,104.95],
[1575158400000,106.32],
[1575244800000,104.90],
[1575331200000,105.20],
[1575417600000,103.65],
[1575504000000,104.58],
[1575590400000,104.37],
[1575676800000,104.59],
[1575763200000,104.03],
[1575849600000,102.95],
[1575936000000,102.38],
[1576022400000,102.12],
[1576108800000,100.08],
[1576195200000,100.18],
[1576281600000,98.49],
[1576368000000,96.55],
[1576454400000,94.30],
[1576540800000,94.39],
[1576627200000,93.09],
[1576713600000,92.67],
[1576800000000,91.94],
[1576886400000,90.59],
[1576972800000,89.94],
[1577059200000,91.16],
[1577145600000,94.37],
[1577232000000,93.45],
[1577318400000,92.99],
[1577404800000,92.28],
[1577491200000,92.15],
[1577577600000,90.82],
[1577664000000,89.71],
[1577750400000,88.88]
]

}

    return {
            chart: {
                height: (9 / 16 * 100) + '%'
            },
            title: {
            text: ''
        },
        subtitle: {
            text: main_title
        },
        xAxis: {
                title: {
                text: 'Month'
            },
            type: 'datetime' 
        },
        yAxis: {
            title: {
                text: 'Rainfall (mm)'
            },
            plotLines: [{
            color: 'black',
            width: 2,
            value: thresh,
            label: {
                align: 'right',
                style: {
                    fontStyle: 'italic'
                },
                text: 'Threshold',
                x: -10
            },
            zIndex: 4
        }]
        },
        plotOptions: {
            line: {
                enableMouseTracking: true
            }
        },

            series: [
            {
                name: title,
                type: 'line',
                data: new_data,
                zoneAxis: 'x',
                zones: [{
                value: 1554076800000, 
                dashStyle: 'dot',
                color: 'black'
                },{
                value: 1569888000000, 
                dashStyle: 'solid',
                color: color
                },{
                value: 1585612800000, 
                dashStyle: 'dot',
                color: 'black'
                }]
            }]
        }
}

}